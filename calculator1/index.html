<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evil Calculator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@500;700&display=swap" rel="stylesheet">
</head>
<body class="bg-black min-h-screen flex flex-col items-center justify-center overflow-hidden selection:bg-red-900 selection:text-white">

    <button id="help-btn" class="fixed top-6 right-6 w-12 h-12 rounded-full border border-[#333] text-[#444] hover:text-red-500 hover:border-red-500 transition-all z-40 flex items-center justify-center text-xl font-bold font-mono" onclick="startHelpSequence()">
        ?
    </button>

    <div id="help-modal" class="fixed inset-0 z-50 flex items-center justify-center bg-black/90 opacity-0 transition-opacity duration-300 backdrop-blur-sm pointer-events-none">
        <div class="bg-[#111] p-8 rounded-2xl border border-red-900/50 max-w-sm w-full text-center shadow-[0_0_50px_rgba(255,0,0,0.2)] transform scale-95 transition-transform duration-300" id="modal-box">
            <h2 id="modal-title" class="text-2xl text-red-600 font-mono mb-4 font-bold">POMOC?</h2>
            <div id="modal-text" class="text-gray-400 font-mono text-sm mb-8 min-h-[60px] flex items-center justify-center flex-col gap-2">
                Czy na pewno chcesz zobaczyć podpowiedzi?
            </div>
            <button id="modal-action" class="w-full py-3 rounded bg-red-900/20 text-red-500 border border-red-900 hover:bg-red-600 hover:text-white transition-all font-mono uppercase text-xs tracking-widest" onclick="nextHelpStep()">
                TAK, CHCĘ
            </button>
        </div>
    </div>

    <div id="comment-bubble" class="h-8 mb-4 text-center text-red-500 font-mono text-sm opacity-0 transition-opacity duration-500"></div>

    <div id="calculator-body" class="p-6 w-[340px] relative transition-transform duration-300">
        
        <div id="glitch-overlay" class="absolute inset-0 rounded-[30px] pointer-events-none z-50 mix-blend-overlay opacity-0"></div>

        <div class="mb-6 bg-black border border-[#222] rounded-xl p-4 text-right h-24 flex flex-col justify-end relative overflow-hidden">
            <div id="history" class="text-[#444] text-xs font-mono mb-1 h-4"></div>
            <input type="text" id="display" readonly 
                class="w-full bg-transparent text-[#e0e0e0] text-5xl font-mono text-right outline-none placeholder-gray-800"
                placeholder="0">
        </div>

        <div class="grid grid-cols-4 gap-3">
            <button class="btn btn-func" onclick="pressAC()">AC</button>
            <button class="btn btn-func" onclick="toggleSign()">+/-</button>
            <button class="btn btn-func" onclick="append('%')">%</button>
            <button class="btn btn-func" onclick="append('/')">/</button>

            <button class="btn btn-num" onclick="append('7')">7</button>
            <button class="btn btn-num" onclick="append('8')">8</button>
            <button class="btn btn-num" onclick="append('9')">9</button>
            <button class="btn btn-func" onclick="append('*')">×</button>

            <button class="btn btn-num" onclick="append('4')">4</button>
            <button class="btn btn-num" onclick="append('5')">5</button>
            <button class="btn btn-num" onclick="append('6')">6</button>
            <button class="btn btn-func" onclick="append('-')">−</button>

            <button class="btn btn-num" onclick="append('1')">1</button>
            <button class="btn btn-num" onclick="append('2')">2</button>
            <button class="btn btn-num" onclick="append('3')">3</button>
            <button class="btn btn-func" onclick="append('+')">+</button>

            <button class="btn btn-num col-span-2" onclick="append('0')">0</button>
            <button class="btn btn-num" onclick="append('.')">.</button>
            <button id="equal-btn" class="btn btn-equal" onclick="calculate()">=</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>